<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StrictHotel ‚Äì LoL Betting</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üëΩ</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/shared/css/theme.css">
    <link rel="stylesheet" href="lol-betting.css">
</head>
<body>
    <div class="lol-page">
        <div class="lol-header">
            <a href="/" class="back-link">‚Üê BACK TO LOBBY</a>
            <div class="lol-title">‚öîÔ∏è LOL BETTING</div>
            <div class="balance-display" id="balance-display">üí∞ Loading...</div>
        </div>

        <!-- Betting Form -->
        <div class="bet-section">
            <h2>PLACE YOUR BET</h2>
            <form class="bet-form" id="bet-form">
                <div class="form-row">
                    <label for="lol-username">Riot ID (Name#Tag)</label>
                    <div class="username-row">
                        <input 
                            type="text" 
                            id="lol-username" 
                            placeholder="e.g. Player#EUW"
                            required
                        >
                        <button type="button" class="validate-btn" id="validate-btn" disabled>SEARCH</button>
                    </div>
                    <div class="validation-status" id="validation-status"></div>
                </div>

                <div class="form-row">
                    <label for="bet-amount">Bet Amount (Strict Coins)</label>
                    <input 
                        type="number" 
                        id="bet-amount" 
                        placeholder="Enter amount (1-1000)..."
                        min="1"
                        max="1000"
                        required
                    >
                </div>

                <div class="form-row">
                    <label>What will happen in their next game?</label>
                    <div class="bet-type-buttons">
                        <button type="button" class="bet-type-btn" data-bet="win">
                            ‚úÖ THEY WIN
                        </button>
                        <button type="button" class="bet-type-btn" data-bet="lose">
                            ‚ùå THEY LOSE
                        </button>
                    </div>
                </div>

                <button type="submit" class="submit-btn" id="submit-btn" disabled>
                    PLACE BET
                </button>

                <div class="error-message" id="error-message"></div>
            </form>
        </div>

        <!-- Active Bets List -->
        <div class="bets-section">
            <h2>ACTIVE BETS</h2>
            <div class="bets-list" id="bets-list">
                <div class="empty-state">Loading bets...</div>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/shared/js/socket-init.js"></script>
    <script src="js/game.js"></script>
    
    <!-- Switch Sound on Back Button -->
    <script>
    (function () {
        var switchSound = new Audio('/userinput/switch.mp3');
        switchSound.preload = 'auto';
        switchSound.volume = 0.25;
        var backLink = document.querySelector('.back-link');
        if (backLink) {
            backLink.addEventListener('click', function (e) {
                e.preventDefault();
                var href = backLink.getAttribute('href');
                try { switchSound.currentTime = 0; switchSound.play().catch(function(){}); } catch(ex) {}
                setTimeout(function () { window.location.href = href; }, 250);
            });
        }
    })();
    </script>
</body>
</html>
